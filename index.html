<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Attendance Tracker</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <h1 id="mainTitle">Student Attendance Tracker</h1>
    </header>
    <script src="students.js"></script>
    <main>



        <table>
            <thead>
                <tr>
                    <th>ROLL NO.</th>
                    <th>Name</th>
                    <th>Enrollment No.</th>
                    <th>Status</th>
                    <th colspan='2'>Present</th>
                </tr>
            </thead>

            <tbody>
                <script>
                    for (i = 0; i < student.length; i++) {
                        document.write("<tr>");
                        document.write("<td>");
                        document.write(student[i].rollno);
                        document.write("</td>");

                        document.write("<td>");
                        document.write(student[i].name);
                        document.write("</td>");

                        document.write("<td>");
                        document.write(student[i].enrollment);
                        document.write("</td>");

                        document.write("<td>");
                        document.write("<span class='status'></span>");
                        document.write("</td>");

                        document.write("<td>");
                        document.write("<input type='button' onclick=isPresent(" + i + ") value='Present'>");
                        document.write("</td>");

                        document.write("<td>");
                        document.write("<input type='button' onclick=isAbsent(" + i + ") value='Absent'>");
                        document.write("</td>");
                        document.write("</tr>");
                    }
                </script>
            </tbody>
        </table>
    </main>
    <div>Total Present : <span id='DisplayPresent'></span><br>Total Absent : <span id='DisplayAbsent'></span></div>
    <div>
        <button onclick='presentAll()' id="presentAll">Present All</button>
        <button onclick='absentAll()' id="absentAll">Absent All</button>
        <button onclick='submitAttendance()' id="submitAttendance">Submit Attendance</button>
    </div>


    <script>
        const statusRef = document.getElementsByClassName("status");
        const DisplayPresentRef = document.getElementById("DisplayPresent");
        const DisplayAbsentRef = document.getElementById("DisplayAbsent");
        function isPresent(index) {
            student[index].status = 'Present';
            statusRef[index].innerHTML = student[index].status;
            updateCount();
        }
        function isAbsent(index) {
            student[index].status = 'Absent';
            statusRef[index].innerHTML = student[index].status;
            updateCount();
        }
        function updateCount() {
            DisplayPresentRef.innerHTML = student.filter(stu => stu.status === 'Present').length;
            DisplayAbsentRef.innerHTML = student.filter(stu => stu.status === 'Absent').length;
        }
        function presentAll() {
            for (let i = 0; i < student.length; i++) {
                student[i].status = 'Present';
                statusRef[i].innerHTML = student[i].status;
            }
            updateCount();
        }
        function absentAll() {
            for (let i = 0; i < student.length; i++) {
                student[i].status = 'Absent';
                statusRef[i].innerHTML = student[i].status;
            }
            updateCount();
        }
        function submitAttendance() {
        }
    </script>


</body>

</html>